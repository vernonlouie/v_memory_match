<!--    Memory Match project v0.5    Vernon Louie    C11.16      November 17, 2016   -->

<!doctype html>
<html>

    <head>
        <title> mem match </title>
        <link rel="stylesheet" href="style2.css">

        <script src="https://code.jquery.com/jquery-2.1.4.min.js"</script>
        <script src="http://learning-fuze.github.io/memory_match/v0.1/script.js"</script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
        <!-- Enter the Bootstrap CDN address into the link below -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"/>

        <script>
            var first_card_clicked = null;
            var second_card_clicked = null;

            var total_possible_matches = 2;
            var match_counter = 0;
            var attempts = 0;
            var accuracy = 0;
            var games_played = 0;

            $(document).ready(function () {
                $(".back").click(card_clicked);     // Call function card_clicked when clicking on a card
                $(".reset").click(reset_clicked);   // Call function reset_clicked when clicking on the reset button
            });

            function resetTwoCards () {
                $(first_card_clicked).toggleClass("make_opaque");
                $(second_card_clicked).toggleClass("make_opaque");
                first_card_clicked = null;
                second_card_clicked = null;
            }

            function display_stats () {
                $(".games_played p").text(games_played);
                $(".attempts p").text(attempts);

                var percent_accuracy = accuracy * 100;          // convert to a number betweeen 0 and 100
                percent_accuracy = percent_accuracy.toFixed(1); // round number to 1 decimal point
                $(".accuracy p").text(percent_accuracy + "%");
            }

            function reset_stats () {
                accuracy = 0;
                match_counter = 0;
                attempts = 0;
                display_stats();
            }

            function reset_clicked () {
                games_played++;
                reset_stats();
                $(".back").removeClass("make_opaque");
                $('#game_area h3').remove(); // removes h3 element containing "You have won! Word to the mother!"
            }

            function card_clicked () {
                $(this).toggleClass("make_opaque");

                if (first_card_clicked === null) {
                    first_card_clicked = this;
                }
                else {
                    second_card_clicked = this;

                    attempts++;
                    accuracy = match_counter / attempts;
                    display_stats();

                    var first_img = $(first_card_clicked).parent().children(".front").find("img").attr('src');
                    var second_img = $(second_card_clicked).parent().children(".front").find("img").attr('src');
                    // console.log("attempts: ", attempts);

                    if (first_img == second_img) {
                        match_counter++;
                        accuracy = match_counter / attempts;
                        display_stats();

                        first_card_clicked = null;
                        second_card_clicked = null;
                        // console.log("match counter is: ", match_counter);

                        if (match_counter === total_possible_matches) {
                            $('#game_area').append("<h3>You have won!  Word to the mother!</h3>");
                        }
                        else {
                            return;
                        } // end of 3rd if block
                    }
                    else {
                        setTimeout(resetTwoCards, 1500);
                        return;
                    } // end of 2nd if block

                } // end of 1st if block

            } // end of function card_clicked

        </script>
    </head>

    <body>
        <header>
            <div class = "logo1">
                <img src = "images/icon1.png" alt="abstract symbol" width="70" />
            </div>

            <div class = "title"> My Little Pony Card Match </div>

            <div class = "settings">
                <a href="https://sfgate.com/giants" target="_blank"> Settings </a>
            </div>

            <div class = "about">
                <a href="index1.html" target="_blank"> About </a>
            </div>
        </header>

        <div class = "bottom_container"> <!-- contains both "left side" and "game area" divs -->

            <div class = "left_side"> <b>Stats</b>
                <div class = "first_top games_played">
                    <h2 class = "label">
                        Games Played:
                    </h2>
                    <p class = "value">
                        0
                    </p>
                </div>

                <div class = "first_top attempts">
                    <h2 class = "label">
                        Attempts:
                    </h2>
                    <p class = "value">
                       0
                    </p>
                </div>

                <div class = "first_top accuracy">
                    <h2 class = "label">
                        Accuracy:
                    </h2>
                    <p class = "value">
                        0%
                    </p>
                </div>

                <div class = "first_top">
                    <button type="button" class="btn btn-default reset" data-dismiss="modal"> Reset Game </button>
                </div>
            </div>
<!-- end of left side bar -->

            <div id = "game_area">

                <div class="card_row">                          <!-- 1st card row -->
                    <div class="col-xs-2 card">                     <!-- card 1 -->
                        <div class = "front">
                            <img src="images/DV1_dune1.jpg" alt="death valley sand dune image 1" width="100">
                        </div>

                        <div class = "back">
                            <img src="images/15541-illustration-of-a-card-deck-back-pv.png" alt="back of card" width="95">
                        </div>
                    </div>
                    <div class="col-xs-2 card">                     <!-- card 2 -->
                        <div class = "front">
                            <img src="images/DV1_dune1.jpg" alt="death valley sand dune image 1" width="100">
                        </div>

                        <div class = "back">
                            <img src="images/15541-illustration-of-a-card-deck-back-pv.png" alt="back of card" width="95">
                        </div>
                    </div>
                    <div class="col-xs-2 card">                     <!-- card 3 -->
                        <div class = "front">
                            <img src="images/DV4_dune4.jpg" alt="death valley sand dune image 4" width="100">
                        </div>

                        <div class = "back">
                            <img src="images/15541-illustration-of-a-card-deck-back-pv.png" alt="back of card" width="95">
                        </div>
                    </div>
                    <div class="col-xs-2 card">                     <!-- card 4 -->
                        <div class = "front">
                            <img src="images/DV4_dune4.jpg" alt="death valley sand dune image 4" width="100">
                        </div>

                        <div class = "back">
                            <img src="images/15541-illustration-of-a-card-deck-back-pv.png" alt="back of card" width="95">
                        </div>
                    </div>
                </div>
                    <!-- make 4-card static layout

                    <div class="col-xs-2 card">
                        <div class = "front">
                            <img src="images/DV5_dune5.jpg" alt="death valley sand dune image 5" width="100">
                        </div>

                        <div class = "back">
                            <img src="images/15541-illustration-of-a-card-deck-back-pv.png" alt="back of card" width="95">
                        </div>
                    </div>
                    <div class="col-xs-2 card">
                        <div class = "front">
                            <img src="images/DV6_dune6.jpg" alt="death valley sand dune image 6" width="100">
                        </div>

                        <div class = "back">
                            <img src="images/15541-illustration-of-a-card-deck-back-pv.png" alt="back of card" width="95">
                        </div>
                    </div>
                </div>

                <div class="card_row">
                    <div class="col-xs-2 card">
                        <div class = "front">
                            <img src="images/DV7_mason_sleeping.jpg" alt="mason sleeping image" width="100">
                        </div>

                        <div class = "back">
                            <img src="images/15541-illustration-of-a-card-deck-back-pv.png" alt="back of card" width="95">
                        </div>
                    </div>
                    <div class="col-xs-2 card">
                        <div class = "front">
                            <img src="images/DV8_mosaic.jpg" alt="mosaic canyon image" width="100">
                        </div>

                        <div class = "back">
                            <img src="images/15541-illustration-of-a-card-deck-back-pv.png" alt="back of card" width="95">
                        </div>
                    </div>
                    <div class="col-xs-2 card">
                        <div class = "front">
                            <img src="images/DV9_Mason_mosaic.jpg" alt="mason sliding image" width="100">
                        </div>

                        <div class = "back">
                            <img src="images/15541-illustration-of-a-card-deck-back-pv.png" alt="back of card" width="95">
                        </div>
                    </div>
                    <div class="col-xs-2 card">
                        <div class = "front">
                            <img src="images/DV1_dune1.jpg" alt="death valley sand dune image 1" width="100">
                        </div>

                        <div class = "back">
                            <img src="images/15541-illustration-of-a-card-deck-back-pv.png" alt="back of card" width="95">
                        </div>
                    </div>
                    <div class="col-xs-2 card">
                        <div class = "front">
                            <img src="images/DV2_dune2.jpg" alt="death valley sand dune image 2" width="100">
                        </div>

                        <div class = "back">
                            <img src="images/15541-illustration-of-a-card-deck-back-pv.png" alt="back of card" width="95">
                        </div>
                    </div>
                    <div class="col-xs-2 card">
                        <div class = "front">
                            <img src="images/DV3_dune3.jpg" alt="death valley sand dune image 3" width="100">
                        </div>

                        <div class = "back">
                            <img src="images/15541-illustration-of-a-card-deck-back-pv.png" alt="back of card" width="95">
                        </div>
                    </div>
                </div>

                <div class="card_row">
                    <div class="col-xs-2 card">
                        <div class = "front">
                            <img src="images/DV4_dune4.jpg" alt="death valley sand dune image 4" width="100">
                        </div>

                        <div class = "back">
                            <img src="images/15541-illustration-of-a-card-deck-back-pv.png" alt="back of card" width="95">
                        </div>
                    </div>
                    <div class="col-xs-2 card">
                        <div class = "front">
                            <img src="images/DV5_dune5.jpg" alt="death valley sand dune image 5" width="100">
                        </div>

                        <div class = "back">
                            <img src="images/15541-illustration-of-a-card-deck-back-pv.png" alt="back of card" width="95">
                        </div>
                    </div>
                    <div class="col-xs-2 card">
                        <div class = "front">
                            <img src="images/DV6_dune6.jpg" alt="death valley sand dune image 6" width="100">
                        </div>

                        <div class = "back">
                            <img src="images/15541-illustration-of-a-card-deck-back-pv.png" alt="back of card" width="95">
                        </div>
                    </div>
                    <div class="col-xs-2 card">
                        <div class = "front">
                            <img src="images/DV7_mason_sleeping.jpg" alt="mason sleeping image" width="100">
                        </div>

                        <div class = "back">
                            <img src="images/15541-illustration-of-a-card-deck-back-pv.png" alt="back of card" width="95">
                        </div>
                    </div>
                    <div class="col-xs-2 card">
                        <div class = "front">
                            <img src="images/DV8_mosaic.jpg" alt="mosaic canyon image" width="100">
                        </div>

                        <div class = "back">
                            <img src="images/15541-illustration-of-a-card-deck-back-pv.png" alt="back of card" width="95">
                        </div>
                    </div>
                    <div class="col-xs-2 card">
                        <div class = "front">
                            <img src="images/DV9_Mason_mosaic.jpg" alt="mason sliding image" width="100">
                        </div>

                        <div class = "back">
                            <img src="images/15541-illustration-of-a-card-deck-back-pv.png" alt="back of card" width="95">
                        </div>
                    </div> end of 18th card
                 </div>

            -->

            </div> <!-- end of game area div -->

        </div> <!-- end of bottom container div, which contains "left side" and "game area" -->

    </body>

    <!-- end of 3rd card row -->
    <!-- card 6 -->
    <!-- card 5 -->
    <!-- end of 1st card row -->
    <!-- 2nd card row -->
    <!-- 3rd card row -->
    <!-- end of 2nd card row -->

    <!-- end of last card div, 18th card -->
</html>