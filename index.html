<!--    Memory Match project v0.5    Vernon Louie    C11.16      November 17, 2016   -->

<!doctype html>
<html>

    <head>
        <title> mem match </title>
        <link rel="stylesheet" href="style2.css">

        <script src="https://code.jquery.com/jquery-2.1.4.min.js"</script>
        <script src="http://learning-fuze.github.io/memory_match/v0.1/script.js"</script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
        <!-- Enter the Bootstrap CDN address into the link below -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"/>


        <script>
//          $(document).ready(function(){
//                $(".card > .back").click(function(){
//                    console.log("I've selected elements that have .back class within .card class")
//                    $(this).toggleClass("make_opaque");
//                });
//            });

            var first_card_clicked = null;
            var second_card_clicked = null;
            var total_possible_matches = 2;
            var match_counter = 0;

            $(document).ready(function() {
                console.log("document is ready");
                $(".back").click(card_clicked);
            });

            function resetTwoCards () {
                $(first_card_clicked).toggleClass("make_opaque");
                $(second_card_clicked).toggleClass("make_opaque");
                first_card_clicked = null;
                second_card_clicked = null;
            }

            function card_clicked() {
                // console.log("I'm in the card_clicked function");
                console.log("1st_card_clicked: ", first_card_clicked);
                console.log("2nd_card_clicked: ", second_card_clicked);
                console.log("this: ",this);

                $(this).toggleClass("make_opaque");

                if (first_card_clicked === null) {
                    first_card_clicked = this;

                    console.log("branch 1");
                }
                else {
                    second_card_clicked = this;
                    console.log("2nd_card_clicked: ",second_card_clicked);

                    // var parent_1st_img = $("first_card_clicked").parent();
                    var first_img = $("first_card_clicked.parent .front :image");

                    // var parent_2nd_img = $("second_card_clicked").parent();
                    var second_img = $("second_card_clicked.parent .front :image");

                    if (first_img === second_img) {
                        match_counter++;
                        first_card_clicked = null;
                        second_card_clicked = null;
                        console.log("1st = 2nd and match counter is: ", match_counter);

                        if (match_counter === total_possible_matches) {
                            $('#game_area').append("<b>You have won!  Word to the mother!</b>");
                        }
                        else {
                            console.log("return #1");
                            return;
                        } // end of 3rd if block

                    }
                    else {
                        console.log("1st != 2nd, return #2");
                        setTimeout(resetTwoCards, 2000);
                        return;
                    } // end of 2nd if block

                } // end of 1st if block

            } // end of function card_clicked




        </script>
    </head>

    <body>
        <header>
            <div class = "logo1">
                <img src = "images/icon1.png" alt="abstract symbol" width="70" />
            </div>

            <div class = "title"> My Little Pony Card Match </div>

            <div class = "settings">
                <a href="https://sfgate.com/giants" target="_blank"> Settings </a>
            </div>

            <div class = "about">
                <a href="index1.html" target="_blank"> About </a>
            </div>
        </header>

        <div class = "bottom_container"> <!-- contains both "left side" and "game area" divs -->

            <div class = "left_side"> Stats
                <div class = "first_top games-played">
                    <h2 class = "label">
                        Games Played:
                    </h2>
                    <p class = "value">
                        88
                    </p>
                </div>

                <div class = "first_top attempts">
                    <h2 class = "label">
                        Attempts:
                    </h2>
                    <p class = "value">
                        19
                    </p>
                </div>

                <div class = "first_top">
                    <h2 class = "label">
                        Accuracy:
                    </h2>
                    <p class = "value">
                        21%
                    </p>
                </div>

                <div class = "first_top">
                    <button type="button" class="btn btn-default reset" data-dismiss="modal">Reset Game </button>
                </div>
            </div> <!-- end of left side bar -->

            <div id = "game_area">

                <div class="card_row"> <!-- 1st card row -->
                    <div class="col-xs-2 card">                     <!-- card 1 -->
                        <div class = "front">
                            <img src="images/DV1_dune1.jpg" alt="death valley sand dune image 1" width="100">
                        </div>

                        <div class = "back">
                            <img src="images/15541-illustration-of-a-card-deck-back-pv.png" alt="back of card" width="95">
                        </div>
                    </div>
                    <div class="col-xs-2 card">                     <!-- card 2 -->
                        <div class = "front">
                            <img src="images/DV1_dune1.jpg" alt="death valley sand dune image 1" width="100">
                        </div>

                        <div class = "back">
                            <img src="images/15541-illustration-of-a-card-deck-back-pv.png" alt="back of card" width="95">
                        </div>
                    </div>
                    <div class="col-xs-2 card">                     <!-- card 3 -->
                        <div class = "front">
                            <img src="images/DV4_dune4.jpg" alt="death valley sand dune image 4" width="100">
                        </div>

                        <div class = "back">
                            <img src="images/15541-illustration-of-a-card-deck-back-pv.png" alt="back of card" width="95">
                        </div>
                    </div>
                    <div class="col-xs-2 card">                     <!-- card 4 -->
                        <div class = "front">
                            <img src="images/DV4_dune4.jpg" alt="death valley sand dune image 4" width="100">
                        </div>

                        <div class = "back">
                            <img src="images/15541-illustration-of-a-card-deck-back-pv.png" alt="back of card" width="95">
                        </div>
                    </div>
                </div>
                    <!-- make 4-card static layout

                    <div class="col-xs-2 card">
                        <div class = "front">
                            <img src="images/DV5_dune5.jpg" alt="death valley sand dune image 5" width="100">
                        </div>

                        <div class = "back">
                            <img src="images/15541-illustration-of-a-card-deck-back-pv.png" alt="back of card" width="95">
                        </div>
                    </div>
                    <div class="col-xs-2 card">
                        <div class = "front">
                            <img src="images/DV6_dune6.jpg" alt="death valley sand dune image 6" width="100">
                        </div>

                        <div class = "back">
                            <img src="images/15541-illustration-of-a-card-deck-back-pv.png" alt="back of card" width="95">
                        </div>
                    </div>
                </div>

                <div class="card_row">
                    <div class="col-xs-2 card">
                        <div class = "front">
                            <img src="images/DV7_mason_sleeping.jpg" alt="mason sleeping image" width="100">
                        </div>

                        <div class = "back">
                            <img src="images/15541-illustration-of-a-card-deck-back-pv.png" alt="back of card" width="95">
                        </div>
                    </div>
                    <div class="col-xs-2 card">
                        <div class = "front">
                            <img src="images/DV8_mosaic.jpg" alt="mosaic canyon image" width="100">
                        </div>

                        <div class = "back">
                            <img src="images/15541-illustration-of-a-card-deck-back-pv.png" alt="back of card" width="95">
                        </div>
                    </div>
                    <div class="col-xs-2 card">
                        <div class = "front">
                            <img src="images/DV9_Mason_mosaic.jpg" alt="mason sliding image" width="100">
                        </div>

                        <div class = "back">
                            <img src="images/15541-illustration-of-a-card-deck-back-pv.png" alt="back of card" width="95">
                        </div>
                    </div>
                    <div class="col-xs-2 card">
                        <div class = "front">
                            <img src="images/DV1_dune1.jpg" alt="death valley sand dune image 1" width="100">
                        </div>

                        <div class = "back">
                            <img src="images/15541-illustration-of-a-card-deck-back-pv.png" alt="back of card" width="95">
                        </div>
                    </div>
                    <div class="col-xs-2 card">
                        <div class = "front">
                            <img src="images/DV2_dune2.jpg" alt="death valley sand dune image 2" width="100">
                        </div>

                        <div class = "back">
                            <img src="images/15541-illustration-of-a-card-deck-back-pv.png" alt="back of card" width="95">
                        </div>
                    </div>
                    <div class="col-xs-2 card">
                        <div class = "front">
                            <img src="images/DV3_dune3.jpg" alt="death valley sand dune image 3" width="100">
                        </div>

                        <div class = "back">
                            <img src="images/15541-illustration-of-a-card-deck-back-pv.png" alt="back of card" width="95">
                        </div>
                    </div>
                </div>

                <div class="card_row">
                    <div class="col-xs-2 card">
                        <div class = "front">
                            <img src="images/DV4_dune4.jpg" alt="death valley sand dune image 4" width="100">
                        </div>

                        <div class = "back">
                            <img src="images/15541-illustration-of-a-card-deck-back-pv.png" alt="back of card" width="95">
                        </div>
                    </div>
                    <div class="col-xs-2 card">
                        <div class = "front">
                            <img src="images/DV5_dune5.jpg" alt="death valley sand dune image 5" width="100">
                        </div>

                        <div class = "back">
                            <img src="images/15541-illustration-of-a-card-deck-back-pv.png" alt="back of card" width="95">
                        </div>
                    </div>
                    <div class="col-xs-2 card">
                        <div class = "front">
                            <img src="images/DV6_dune6.jpg" alt="death valley sand dune image 6" width="100">
                        </div>

                        <div class = "back">
                            <img src="images/15541-illustration-of-a-card-deck-back-pv.png" alt="back of card" width="95">
                        </div>
                    </div>
                    <div class="col-xs-2 card">
                        <div class = "front">
                            <img src="images/DV7_mason_sleeping.jpg" alt="mason sleeping image" width="100">
                        </div>

                        <div class = "back">
                            <img src="images/15541-illustration-of-a-card-deck-back-pv.png" alt="back of card" width="95">
                        </div>
                    </div>
                    <div class="col-xs-2 card">
                        <div class = "front">
                            <img src="images/DV8_mosaic.jpg" alt="mosaic canyon image" width="100">
                        </div>

                        <div class = "back">
                            <img src="images/15541-illustration-of-a-card-deck-back-pv.png" alt="back of card" width="95">
                        </div>
                    </div>
                    <div class="col-xs-2 card">
                        <div class = "front">
                            <img src="images/DV9_Mason_mosaic.jpg" alt="mason sliding image" width="100">
                        </div>

                        <div class = "back">
                            <img src="images/15541-illustration-of-a-card-deck-back-pv.png" alt="back of card" width="95">
                        </div>
                    </div> end of 18th card
                 </div>

            -->

            </div> <!-- end of game area div -->

        </div> <!-- end of bottom container div, which contains "left side" and "game area" -->

    </body>

    <!-- end of 3rd card row -->
    <!-- card 6 -->
    <!-- card 5 -->
    <!-- end of 1st card row -->
    <!-- 2nd card row -->
    <!-- 3rd card row -->
    <!-- end of 2nd card row -->

    <!-- end of last card div, 18th card -->
</html>